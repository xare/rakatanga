{% extends 'admin/base.html.twig' %}

{% block title %}Media index{% endblock %}

{% block body %}
    <div class="container">
    {{ include ('admin/shared/_controlband.html.twig',{'entity':'media'})}}
        <div class="row">
            <div class="col-12 col-xs-12">
                <h1>Media index</h1>

                <div class="count">
                    <strong>Media en total:</strong>
                    <span id="totalItemCount">{{ media.getTotalItemCount }} </span>
                </div>
                <br />

                <div class="navigation">
                    {{ knp_pagination_render(media) }}
                </div>

                <div class="table-data">
                    <div>
                        <table class="table table-striped table-hover small">
                            <thead>
                                <tr>
                                    <th class="main-red">{{ knp_pagination_sortable(media, 'Id', 'm.id',{'class':'text-decoration-none link-light'}) }}</th>
                                    <th class="main-red{% if media.isSorted('m.type') %} sorted{% endif %}">
                                        {{ knp_pagination_sortable(media, 'Type', 'm.type',{'class':'text-decoration-none link-light'}) }}
                                    </th>
                                    <th class="main-red{% if media.isSorted('m.name') %} sorted{% endif %}">
                                        {{ knp_pagination_sortable(media, 'Name', 'm.name',{'class':'text-decoration-none link-light'}) }}
                                    </th>
                                    <th class="main-red{% if media.isSorted('m.path') %} sorted{% endif %}">
                                        {{ knp_pagination_sortable(media, 'Path', 'm.path',{'class':'text-decoration-none link-light'}) }}
                                    </th>
                                    <th class="main-red">Url</th>
                                    <th class="main-red{% if media.isSorted('m.filename') %} sorted{% endif %}">
                                        {{ knp_pagination_sortable(media, 'Filename', 'm.filename',{'class':'text-decoration-none link-light'}) }}
                                    </th>
                                    <th class="main-red">Thumbnail</th>
                                    <th class="main-red"><i class="fa fa-edit"></i></th>
                                    <th class="main-red"><i class="fa fa-trash"></i></th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for medium in media %}
                                    {{ include('admin/media/_mediaRow.html.twig') }}
                                {% else %}
                                <tr>
                                    <td colspan="6">no records found</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                    <div class="navigation mt-4">
                        {{ knp_pagination_render(media) }}
                    </div>

                    {# <div class="tab-content">
                        <div
                            class="tab-pane fade show active"
                            id="simple-form"
                            role="tabpanel"
                            aria-labelledby="simple-form-tab">
                                <div class="js-new-item-table">
                                    <div class="js-new-item-form-wrapper">
                                        {{ include('admin/media/_dynamic_form.html.twig') }}
                                    </div>
                                </div>
                        </div>
                        <div
                            class="tab-pane fade"
                            id="dropzone"
                            role="tabpanel"
                            aria-labelledby="dropzone-tab">
                            {{ include('admin/media/_form_dropzone.html.twig') }}
                        </div>
                    </div>
                    <a href="{{ path('media_new') }}" class="btn btn-primary">
                        <i class="fa fa-plus-circle"></i>
                        Create new
                    </a> #}
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block footer %}
    {{ parent() }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('admin') }}
{% endblock %}